<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Equipment Rentals - Dynamic Site</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script>
        // Global function to re-render Lucide icons after DOM update
        window.createIcons = function() {
            if (typeof lucide !== 'undefined' && lucide.createIcons) {
                lucide.createIcons();
            } else {
                console.error("Lucide library not available for icon rendering.");
            }
        };

        // Tailwind Config for custom colors
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'elite-orange': '#FF6600',
                        'elite-orange-dark': '#CC5500',
                    }
                }
            }
        }
    </script>
    <style>
    /* Fade-in-up animation */
    @keyframes fade-in-up {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-fade-in-up {
        animation: fade-in-up 0.6s ease-out forwards;
        opacity: 0; /* Start hidden */
    }
    .animate-fade-in-up.animation-delay-200 { animation-delay: 0.2s; }
    .animate-fade-in-up.animation-delay-400 { animation-delay: 0.4s; }

    /* Fade-in-left animation */
    @keyframes fade-in-left {
        from {
            opacity: 0;
            transform: translateX(-30px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    .animate-fade-in-left {
        animation: fade-in-left 0.8s ease-out forwards;
        opacity: 0; /* Start hidden */
    }

    /* Fade-in-right animation */
    @keyframes fade-in-right {
        from {
            opacity: 0;
            transform: translateX(30px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    .animate-fade-in-right {
        animation: fade-in-right 0.8s ease-out forwards;
        opacity: 0; /* Start hidden */
    }

    /* You might want to adjust these delays */
    .md\\:odd\\:flex-row-reverse > div:nth-child(1).animate-fade-in-left {
        animation-delay: 0.2s;
    }
    .md\\:odd\\:flex-row-reverse > div:nth-child(3).animate-fade-in-right {
        animation-delay: 0.4s;
    }
    .md\\:even\\:flex-row > div:nth-child(1).animate-fade-in-right {
        animation-delay: 0.2s;
    }
    .md\\:even\\:flex-row > div:nth-child(3).animate-fade-in-left {
        animation-delay: 0.4s;
    }


</style>

    <style>
        /* Custom styles for professional look */
        .min-h-content {
            min-height: calc(100vh - 4rem - 5rem);
        }

        /* Hero image specific styles - MODIFIED FOR PARALLAX */
        .hero-image-section {
            /* KEY CHANGE 1: Use full viewport height for dramatic effect */
            height: 100vh;
            
            background-image: url('Images/hero.png'); /* Replace with your actual hero image URL */
            
            /* KEY CHANGE 2: Implement Parallax Effect */
            background-attachment: fixed;
            
            background-size: cover;
            background-position: center;
            position: relative;
            
            /* Ensure content inside is vertically centered */
            display: flex; 
            align-items: center;
            justify-content: center;
        }

        .hero-image-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.4);
            z-index: 1;
        }

        .hero-image-content {
            position: relative;
            z-index: 2;
        }

        /* SLIDER SPECIFIC STYLES - Ensures smooth transitions */
        #category-slider-wrapper {
            max-width: 28rem; 
            margin-left: auto;
            margin-right: auto;
        }
        
        #category-slides-container {
            position: relative;
            height: 100%; 
            min-height: 280px;
        }
        
        .category-slide {
            transition: opacity 0.4s ease-in-out;
            position: absolute; 
            width: 100%;
            height: 100%;
            display: none; 
            opacity: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .category-slide.active {
            display: flex; 
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans antialiased">

    <header class="sticky top-0 z-50 bg-white shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="#/" class="flex items-center space-x-2">
                    <span class="text-xl font-extrabold tracking-tight text-elite-orange">ELITE</span>
                    <span class="text-xl font-medium text-gray-800">Rentals</span>
                </a>
                
                <nav class="hidden md:flex space-x-8">
                    <a href="#home-categories" class="nav-link text-gray-600 hover:text-elite-orange transition duration-150 ease-in-out font-medium">Equipment</a>
                    <a href="#about" class="nav-link text-gray-600 hover:text-elite-orange transition duration-150 ease-in-out font-medium">About Us</a>
                    <a href="#contact" class="nav-link text-gray-600 hover:text-elite-orange transition duration-150 ease-in-out font-medium">Contact</a>
                    <!-- <a href="#contact" class="px-3 py-1.5 bg-elite-orange text-white rounded-lg hover:bg-elite-orange-dark transition duration-150 ease-in-out shadow-lg font-semibold">Contact</a> -->
                </nav>
                
                <button id="menu-toggle" class="md:hidden p-2 rounded-md text-gray-700 hover:bg-gray-100 transition duration-150 ease-in-out" aria-label="Toggle navigation">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50 border-t border-gray-200">
                <a href="#home-categories" class="mobile-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100">Equipment</a>
                <a href="#about" class="mobile-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100">About Us</a>
                <a href="#contact" class="mobile-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100">Contact</a>
                <!-- <a href="#contact" class="mobile-link block px-3 py-2 rounded-md text-base font-medium text-white bg-elite-orange text-center">Contact</a> -->
            </div>
        </div>
    </header>

    <main id="app-content" class="min-h-content">
    </main>

    <footer class="bg-gray-900 text-white p-6">
        <div class="max-w-7xl mx-auto text-center text-sm">
            &copy; 2023 Elite Equipment Rentals Template. All Rights Reserved. | Designed with <span class="text-elite-orange">❤️</span>
        </div>
    </footer>

    <script>
        // --- Data Definitions ---
        // ⭐ IMPORTANT: Added 'imageURL' property to each object
        const equipmentData = [
            { id: 1, name: "Hydraulic Excavator (20T)", category: "Earthmoving", price: 550.00, description: "Precision digging and major site preparation. Max depth 20ft, 10-ton capacity.", details: "Our 20-ton class excavator is perfect for large residential and commercial projects. Features cab A/C, quick coupler, and standard safety monitoring systems.", placeholder: "Excavator", imageURL: "Images/evacuator.png" },
            { id: 3, name: "Skid Steer Loader", category: "Earthmoving", price: 320.00, description: "Compact and versatile for tight spaces. Rated operating capacity 1,750 lbs.", details: "This powerful skid steer offers exceptional lift capacity and maneuverability. Ideal for demolition, grading, and material handling. High-flow hydraulics standard.", placeholder: "Skid Steer", imageURL: "Images/skid_steer.png" },
            { id: 6, name: "Trench Digger (Walk-Behind)", category: "Earthmoving", price: 210.00, description: "Creates clean trenches quickly for utilities and irrigation lines. Adjustable depth up to 36 inches.", details: "A self-propelled trenching machine designed for speed and precision. Ideal for installing irrigation lines, electrical conduit, or plumbing.", placeholder: "Digger", imageURL: "Images/trench copy.png" },
            
            { id: 4, name: "Concrete Mixer (9cu ft)", category: "Lawn&Tools", price: 150.00, description: "Professional grade, heavy-duty mixer for high volume jobs.", details: "A portable yet robust mixer capable of handling large concrete batches. Easily towed to any job site. Perfect for sidewalks, patios, and small foundations.", placeholder: "Mixer", imageURL: "Images/Concrete_Mixer.png" },
            { id: 5, name: "Plate Compactor", category: "Lawn&Tools", price: 90.00, description: "Ideal for granular soils, asphalt patching, and driveway preparation.", details: "Heavy-duty plate compactor offering 5,500 lbs of compaction force. Essential for foundational stability in trenches and small areas.", placeholder: "Compactor", imageURL: "Images/Plate_Compactor.png" },
            
            { id: 12, name: "Dump Trailer (10k GVWR)", category: "Trailer", price: 120.00, description: "Hydraulic dump trailer with a 10,000 lb gross vehicle weight rating.", details: "Perfect for hauling and dumping debris, gravel, or soil. Features easy-to-use hydraulic lift and a secure locking mechanism.", placeholder: "Dump Trailer", imageURL: "Images/dump_trailer.png" },
            
            { id: 13, name: "Hydraulic Breaker", category: "Attachments", price: 95.00, description: "High-impact breaker for concrete and rock demolition. Fits all our skid steers.", details: "Quickly break up concrete slabs, pavement, and rock. A necessary tool for interior and exterior demolition projects.", placeholder: "Breaker", imageURL: "Images/Breaker.png" },
        ];
        
        // Define the four main categories for navigation
        const mainCategories = [
            { name: "Earth Moving", icon: "forklift", categoryName: "Earthmoving", hash: "category/earthmoving", description: "Heavy machinery for excavation, grading, and site preparation." },
            { name: "Lawn & Tools", icon: "shovel", categoryName: "Lawn&Tools", hash: "category/lawn&tools", description: "Essential equipment for landscaping, yard work, and minor construction tasks." },
            { name: "Trailer", icon: "truck", categoryName: "Trailer", hash: "category/trailer", description: "Transport solutions for hauling materials and machinery safely." },
            { name: "Attachments", icon: "combine", categoryName: "Attachments", hash: "category/attachments", description: "Versatile accessories for skid steers and excavators to maximize utility." },
        ];

        // --- Global State ---
        const appContent = document.getElementById('app-content');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuToggle = document.getElementById('menu-toggle');
        let autoSlideInterval = null;
        let categorySlides;
        let currentSlideIndex = 0;
        
        // --- Core Helper Functions ---

        function normalizeCategoryName(categoryStr) {
            if (!categoryStr) return '';
            let normalized = categoryStr.toLowerCase();
            normalized = normalized.replace(/\s+/g, ''); 
            return normalized;
        }

        function formatCategoryName(hash) {
            hash = hash.replace('category/', '');
            
            return hash.split('&').map(part => {
                return part.split(/[-_]/).map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
            }).join(' & ');
        }
        
        // --- View Templates (Home, Category List, Form Success) ---

        function getCategorySliderHTML() {
            const slidesHTML = mainCategories.map((cat, index) => `
                <a href="#${cat.hash}" class="category-slide ${index === 0 ? 'active' : ''} p-8 bg-white rounded-xl shadow-xl hover:shadow-2xl transition duration-300 border-t-4 border-elite-orange w-full h-full text-center">
                    <i data-lucide="${cat.icon}" class="w-12 h-12 md:w-16 md:h-16 text-elite-orange mb-4 mx-auto"></i>
                    <h3 class="text-2xl md:text-3xl font-bold text-gray-900 mb-2">${cat.name}</h3>
                    <p class="text-gray-600 text-sm md:text-base max-w-md">${cat.description}</p>
                    <span class="mt-4 text-elite-orange font-semibold hover:text-elite-orange-dark flex items-center text-md md:text-lg mx-auto">
                        View Fleet <i data-lucide="chevron-right" class="w-5 h-5 ml-1"></i>
                    </span>
                </a>
            `).join('');

            return `
                <div id="category-slider-wrapper" class="relative h-[280px] md:h-[320px]">
                    <div id="category-slides-container" class="relative w-full h-full">
                        ${slidesHTML}
                    </div>
                    <div id="slider-indicators" class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2 z-20">
                        ${mainCategories.map((_, index) => `
                            <span class="indicator-dot w-3 h-3 rounded-full bg-gray-400 cursor-pointer transition ${index === 0 ? 'bg-elite-orange' : ''}" data-index="${index}"></span>
                        `).join('')}
                    </div>
                </div>
            `;
        }
        
        // HERO SECTION HTML
        const homeViewTemplate = `
            <section class="hero-image-section text-white"> 
                <div class="hero-image-content max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h1 class="text-5xl md:text-6xl font-extrabold tracking-tight mb-4">
                        Heavy Machinery. Zero Hassle.
                    </h1>
                    <p class="text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto">
                        The highest quality equipment for your next construction or industrial project, delivered on time.
                    </p>
                </div>
            </section>
            
            <section class="py-16 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h2 class="text-3xl font-bold text-gray-900 mb-4">Why Choose Elite?</h2>
                    <div class="grid md:grid-cols-3 gap-8 mt-8">
                        <div class="p-6 bg-gray-50 rounded-xl shadow-lg">
                            <i data-lucide="hard-hat" class="w-8 h-8 text-elite-orange mx-auto mb-3"></i>
                            <h3 class="font-bold text-xl mb-2">Top-Tier Fleet</h3>
                            <p class="text-gray-600 text-sm">Only late-model, meticulously maintained machinery for peak performance.</p>
                        </div>
                        <div class="p-6 bg-gray-50 rounded-xl shadow-lg">
                            <i data-lucide="phone" class="w-8 h-8 text-elite-orange mx-auto mb-3"></i>
                            <h3 class="font-bold text-xl mb-2">24/7 Support</h3>
                            <p class="text-gray-600 text-sm">Our expert team is always on call to ensure your project stays on schedule.</p>
                        </div>
                        <div class="p-6 bg-gray-50 rounded-xl shadow-lg">
                            <i data-lucide="tag" class="w-8 h-8 text-elite-orange mx-auto mb-3"></i>
                            <h3 class="font-bold text-xl mb-2">Transparent Pricing</h3>
                            <p class="text-gray-600 text-sm">Clear, competitive daily, weekly, and monthly rates—no hidden fees.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="home-categories" class="py-16 bg-gray-50">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-gray-900 mb-12 text-center">Our Equipment Categories</h2>
                    ${getCategorySliderHTML()}
                </div>
            </section>
            
            <section id="contact" class="py-16 bg-gray-900 text-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h2 class="text-3xl font-extrabold text-white mb-10 inline-block border-b-2 border-elite-orange pb-1">Get in Touch</h2>

                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-lg pt-4 max-w-5xl mx-auto">
                        
                        <div class="flex flex-col items-center">
                            <i data-lucide="phone" class="w-8 h-8 mb-2 text-elite-orange"></i>
                            <p class="font-semibold text-gray-300">Call Us</p>
                            <a href="tel:1-800-ELITE-EQ" class="text-white hover:text-elite-orange transition duration-200 text-sm md:text-base">1-800-ELITE-EQ</a>
                        </div>

                        <div class="flex flex-col items-center">
                            <i data-lucide="mail" class="w-8 h-8 mb-2 text-elite-orange"></i>
                            <p class="font-semibold text-gray-300">Email</p>
                            <a href="mailto:rentals@elite.com" class="text-white hover:text-elite-orange transition duration-200 text-sm md:text-base">rentals@elite.com</a>
                        </div>
                        
                        <div class="flex flex-col items-center">
                            <i data-lucide="clock" class="w-8 h-8 mb-2 text-elite-orange"></i>
                            <p class="font-semibold text-gray-300">Business Hours</p>
                            <p class="text-white text-sm md:text-base">Mon - Fri: 7am - 5pm</p>
                        </div>
                        
                        <div class="flex flex-col items-center">
                            <i data-lucide="map-pin" class="w-8 h-8 mb-2 text-elite-orange"></i>
                            <p class="font-semibold text-gray-300">Headquarters</p>
                            <p class="text-white text-center text-sm md:text-base leading-tight">123 Industrial Park Way, Metropolis, 90210</p>
                        </div>

                    </div>
                </div>
            </section>
        `;

        const getCategoryDetailView = (categoryHash) => {
            const title = formatCategoryName(categoryHash);
            return `
                <section class="py-16 bg-white">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <a href="#/" class="text-elite-orange hover:underline mb-4 inline-block">&larr; Back to Home Categories</a>
                        <h2 class="text-4xl font-extrabold text-gray-900 mb-6">${title} Equipment</h2>
                        <p class="text-gray-600 mb-8">Browse the ${title} fleet available for rent. Click **View Details** to request a quote.</p>
                        <div id="equipment-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            </div>
                        <p id="no-results" class="text-center text-gray-500 mt-10 hidden">No equipment found in this category.</p>
                    </div>
                </section>
            `;
        }
        
        /**
         * Generates the HTML for a single equipment detail page with the form on the right.
         */
        function getEquipmentDetailView(item) {
            if (!item) return `<section class="py-16 text-center">Equipment not found.</section>`;
            
            const normalizedCategory = normalizeCategoryName(item.category);
            const backLink = `#category/${normalizedCategory}`; 

            const longDescription = item.details || item.description;
            
            // Web3Forms Action URL 
            const formActionUrl = "https://api.web3forms.com/submit"; 

            return `
                <section class="py-12 bg-gray-100">
                    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                        <a href="${backLink}" class="inline-flex items-center text-elite-orange hover:underline mb-6">
                            <i data-lucide="chevron-left" class="w-5 h-5 mr-1"></i> Back to ${formatCategoryName(normalizedCategory)}
                        </a>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                            
                            <div class="md:col-span-2">
                                <div class="bg-white rounded-xl shadow-2xl p-8 lg:p-10">
                                    
                                    <h1 class="text-3xl md:text-4xl font-extrabold text-gray-900 mb-2">${item.name}</h1>
                                    <span class="inline-block px-3 py-0.5 text-sm font-bold rounded-full bg-gray-200 text-gray-700 mb-6">${item.category}</span>
                                    
                                    <div class="h-80 md:h-96 flex items-center justify-center bg-gray-200 text-gray-500 font-bold text-xl rounded-xl shadow-inner mb-6">
                                        ${item.imageURL ? `<img src="${item.imageURL}" alt="${item.name}" class="w-full h-full object-cover rounded-xl" />` : `[${item.placeholder} Image Placeholder]`}
                                    </div>

                                    <div class="mb-8 pt-4">
                                        <h2 class="text-xl font-bold text-gray-800 mb-3 border-b pb-1">Equipment Description</h2>
                                        <p class="text-gray-700 leading-relaxed mb-6 text-sm">${longDescription}</p>
                                        
                                        <div class="bg-elite-orange/10 p-4 rounded-lg border-l-4 border-elite-orange">
                                            <h3 class="text-lg font-semibold text-elite-orange mb-1">Daily Rate</h3>
                                            <p class="text-4xl font-extrabold text-elite-orange">$${item.price.toFixed(2)}</p>
                                            <p class="text-xs text-gray-600 mt-1">Contact for weekly/monthly pricing.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="md:col-span-1">
                                <div class="sticky top-20 bg-white p-6 rounded-xl shadow-2xl text-gray-900 border border-gray-200">
                                    <h3 class="text-2xl font-extrabold text-elite-orange mb-4 text-center">Get a Fast Quote</h3>
                                    
                                    <p class="text-base mb-6 text-gray-700 text-center border-b border-gray-300 pb-4">
                                        Inquire about the **${item.name}** now. No obligation.
                                    </p>
                                    
                                    <form id="booking-form" action="${formActionUrl}" method="POST" class="space-y-4">
                                        
                                        <input type="hidden" name="access_key" value="637b4dc4-7ab2-41a5-b1b7-7b9999e5943a">
                                        
                                        <input type="hidden" name="redirect" value="thanks.html">
                                        
                                        <input type="hidden" name="subject" value="Elite Rentals: New Inquiry for ${item.name}">
                                        <input type="hidden" name="Equipment Name" value="${item.name}">
                                        
                                        <div>
                                            <input type="text" name="Name" id="name" placeholder="Full Name *" required class="w-full p-3 border border-gray-300 rounded-lg text-gray-900 bg-gray-50 focus:ring-2 focus:ring-elite-orange focus:border-elite-orange transition duration-150 shadow-sm text-sm">
                                        </div>
                                        
                                        <div>
                                            <input type="email" name="Email" id="email" placeholder="Email Address *" required class="w-full p-3 border border-gray-300 rounded-lg text-gray-900 bg-gray-50 focus:ring-2 focus:ring-elite-orange focus:border-elite-orange transition duration-150 shadow-sm text-sm">
                                        </div>
                                        
                                        <div>
                                            <input type="tel" name="Phone Number" id="phone" placeholder="Phone Number *" required class="w-full p-3 border border-gray-300 rounded-lg text-gray-900 bg-gray-50 focus:ring-2 focus:ring-elite-orange focus:border-elite-orange transition duration-150 shadow-sm text-sm">
                                        </div>

                                        <div>
                                            <textarea name="Rental Details" id="details" placeholder="Project details, desired dates (MM/DD), and duration (days/weeks) *" rows="3" required class="w-full p-3 border border-gray-300 rounded-lg text-gray-900 bg-gray-50 focus:ring-2 focus:ring-elite-orange focus:border-elite-orange transition duration-150 shadow-sm text-sm"></textarea>
                                        </div>

                                        <button type="submit" class="mt-2 w-full py-3 bg-elite-orange text-white font-extrabold text-md rounded-lg hover:bg-elite-orange-dark transition shadow-xl transform hover:scale-[1.01]">
                                            Submit Rental Request
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `;
        }

        const formSuccessView = `
            <section id="form-success" class="py-20 bg-green-50">
                <div class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8 text-center bg-white p-8 rounded-xl shadow-lg border-t-4 border-elite-orange-500">
                    <i data-lucide="check-circle" class="w-16 h-16 text-elite-orange-500 mx-auto mb-4"></i>
                    <h2 class="text-3xl font-extrabold text-gray-900 mb-4">Inquiry Submitted Successfully!</h2>
                    <p class="text-gray-600 mb-6">Thank you for your interest. An Elite Rentals representative will contact you shortly regarding the availability and quote for your requested equipment.</p>
                    <a href="#/" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-elite-orange hover:bg-elite-orange-dark transition duration-150">
                        Continue Browsing Equipment
                    </a>
                </div>
            </section>
        `;

        // const views = {
        //     '/': homeViewTemplate,
        //     'about': `
        //         <section id="about" class="py-20 bg-white">
        //             <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        //                 <h2 class="text-4xl font-extrabold text-gray-900 mb-6 text-center">About Elite Equipment Rentals</h2>
        //                 </div>
        //         </section>
        //     `,
        //     'category': (categoryHash) => getCategoryDetailView(categoryHash),
        //     'equipment': (equipmentId) => getEquipmentDetailView(equipmentData.find(eq => eq.id === parseInt(equipmentId))),
        //     'form-success': formSuccessView, 
        // };
        const views = {
    '/': homeViewTemplate,
    'about': `<div class="relative overflow-hidden">
            <div class="relative bg-gradient-to-r from-orange-600 to-orange-800 text-black py-24 md:py-32">
                <div class="absolute inset-0 z-0 opacity-20">
                    <img src="https://via.placeholder.com/1920x800/16a34a/ffffff?text=Our+Team+at+Work" alt="About Us Hero" class="w-full h-full object-cover">
                </div>
                <div class="container mx-auto px-6 lg:px-8 relative z-10 text-center">
                    <h1 class="text-4xl md:text-6xl font-extrabold mb-4 animate-fade-in-up">
                        Building Tomorrow, Today.
                    </h1>
                    <p class="text-lg md:text-xl max-w-3xl mx-auto mb-8 animate-fade-in-up animation-delay-200">
                        At ConstructFlow, we empower your projects with top-tier equipment and unmatched service. Discover our journey.
                    </p>
                    <a href="#our-story" class="inline-block bg-white text-orange-800 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-100 transition duration-300 transform hover:scale-105 animate-fade-in-up animation-delay-400">
                        Our Story
                    </a>
                </div>
            </div>

            <div class="bg-gray-50 py-16">
                <div class="container mx-auto px-6 lg:px-8 text-center">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-12">
                        Impact & Milestones
                    </h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                        <div class="p-6 bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                            <div class="text-5xl font-extrabold text-orange-600 mb-2 count-up" data-target="15">0</div>
                            <p class="text-lg text-gray-600">Years in Business</p>
                        </div>
                        <div class="p-6 bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                            <div class="text-5xl font-extrabold text-orange-600 mb-2 count-up" data-target="2500">0</div>
                            <p class="text-lg text-gray-600">Successful Projects</p>
                        </div>
                        <div class="p-6 bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                            <div class="text-5xl font-extrabold text-orange-600 mb-2 count-up" data-target="150">0</div>
                            <p class="text-lg text-gray-600">Equipment in Fleet</p>
                        </div>
                        <div class="p-6 bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                            <div class="text-5xl font-extrabold text-orange-600 mb-2 count-up" data-target="98">0</div>
                            <p class="text-lg text-gray-600">Customer Satisfaction (%)</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="our-story" class="bg-white py-20">
                <div class="container mx-auto px-6 lg:px-8">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800 text-center mb-16">
                        Our Journey: A Timeline
                    </h2>
                    <div class="relative">
                        <div class="hidden md:block absolute left-1/2 transform -translate-x-1/2 w-1 bg-orange-200 h-full"></div>

                        <div class="space-y-12 md:space-y-24">
                            <div class="flex flex-col md:flex-row items-center justify-between md:odd:flex-row-reverse relative">
                                <div class="md:w-5/12 text-center md:text-right p-4 relative z-10 animate-fade-in-left">
                                    <h3 class="text-2xl font-semibold text-orange-700 mb-2">2008: The Founding Vision</h3>
                                    <p class="text-gray-600">
                                        ConstructFlow was founded with a clear vision: to revolutionize the construction equipment rental market by providing reliable, high-quality machinery and exceptional service.
                                    </p>
                                </div>
                                <div class="hidden md:flex w-24 h-24 rounded-full bg-orange-600 items-center justify-center text-white text-lg font-bold shadow-lg absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 md:translate-y-0 z-20">
                                    <span class="absolute">2008</span>
                                </div>
                                <div class="md:w-5/12 text-center md:text-left p-4">
                                    <img src="https://via.placeholder.com/600x400/16a34a/ffffff?text=Founding+Image" alt="Founding Year" class="rounded-lg shadow-md mx-auto md:ml-auto w-full md:w-auto animate-fade-in-right">
                                </div>
                            </div>

                            <div class="flex flex-col md:flex-row items-center justify-between md:odd:flex-row-reverse relative">
                                <div class="md:w-5/12 text-center md:text-left p-4 relative z-10 animate-fade-in-right">
                                    <h3 class="text-2xl font-semibold text-orange-700 mb-2">2012: Expanding Our Fleet</h3>
                                    <p class="text-gray-600">
                                        Rapid growth allowed us to significantly expand our equipment fleet, introducing advanced machinery and broadening our service capabilities to meet diverse project needs.
                                    </p>
                                </div>
                                <div class="hidden md:flex w-24 h-24 rounded-full bg-orange-600 items-center justify-center text-white text-lg font-bold shadow-lg absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 md:translate-y-0 z-20">
                                    <span class="absolute">2012</span>
                                </div>
                                <div class="md:w-5/12 text-center md:text-right p-4">
                                     <img src="https://via.placeholder.com/600x400/16a34a/ffffff?text=Fleet+Expansion" alt="Fleet Expansion" class="rounded-lg shadow-md mx-auto md:mr-auto w-full md:w-auto animate-fade-in-left">
                                </div>
                            </div>

                            <div class="flex flex-col md:flex-row items-center justify-between md:odd:flex-row-reverse relative">
                                <div class="md:w-5/12 text-center md:text-right p-4 relative z-10 animate-fade-in-left">
                                    <h3 class="text-2xl font-semibold text-orange-700 mb-2">2018: Digital Transformation</h3>
                                    <p class="text-gray-600">
                                        We embraced digital innovation, launching our online platform for seamless equipment booking, transparent tracking, and enhanced customer support.
                                    </p>
                                </div>
                                <div class="hidden md:flex w-24 h-24 rounded-full bg-orange-600 items-center justify-center text-white text-lg font-bold shadow-lg absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 md:translate-y-0 z-20">
                                    <span class="absolute">2018</span>
                                </div>
                                <div class="md:w-5/12 text-center md:text-left p-4">
                                     <img src="https://via.placeholder.com/600x400/16a34a/ffffff?text=Digital+Platform" alt="Digital Transformation" class="rounded-lg shadow-md mx-auto md:ml-auto w-full md:w-auto animate-fade-in-right">
                                </div>
                            </div>

                             <div class="flex flex-col md:flex-row items-center justify-between md:odd:flex-row-reverse relative">
                                <div class="md:w-5/12 text-center md:text-left p-4 relative z-10 animate-fade-in-right">
                                    <h3 class="text-2xl font-semibold text-orange-700 mb-2">Today: Your Trusted Partner</h3>
                                    <p class="text-gray-600">
                                        Today, ConstructFlow stands as a leading equipment rental provider, committed to sustainability, innovation, and being the trusted partner for all your construction needs.
                                    </p>
                                </div>
                                <div class="hidden md:flex w-24 h-24 rounded-full bg-orange-600 items-center justify-center text-white text-lg font-bold shadow-lg absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 md:translate-y-0 z-20">
                                    <span class="absolute">Today</span>
                                </div>
                                <div class="md:w-5/12 text-center md:text-right p-4">
                                     <img src="https://via.placeholder.com/600x400/16a34a/ffffff?text=Our+Future" alt="Our Future" class="rounded-lg shadow-md mx-auto md:mr-auto w-full md:w-auto animate-fade-in-left">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-orange-700 text-white py-16 text-center">
                <div class="container mx-auto px-6 lg:px-8">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4">Ready to Start Your Next Project?</h2>
                    <p class="text-lg mb-8 max-w-2xl mx-auto">
                        Explore our extensive catalog of high-quality construction equipment and find the perfect tools for your needs.
                    </p>
                    <a href="#home-categories" class="inline-block bg-white text-orange-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-100 transition duration-300 transform hover:scale-105">
                        View Our Equipment
                    </a>
                </div>
            </div>
        </div>
        `,
    'category': (categoryHash) => getCategoryDetailView(categoryHash),
    'equipment': (equipmentId) => getEquipmentDetailView(equipmentData.find(eq => eq.id === parseInt(equipmentId))),
    'form-success': formSuccessView,
};

        // --- Slider Logic ---
        
        function updateCategorySlider(newIndex) {
            if (!categorySlides || categorySlides.length === 0) return;

            const numSlides = categorySlides.length;
            currentSlideIndex = (newIndex + numSlides) % numSlides;

            categorySlides.forEach((slide) => {
                slide.classList.remove('active');
                slide.style.display = 'none'; 
            });
            
            categorySlides[currentSlideIndex].classList.add('active');
            categorySlides[currentSlideIndex].style.display = 'flex'; 

            const dots = document.querySelectorAll('#slider-indicators .indicator-dot');
            dots.forEach((dot, index) => {
                dot.classList.remove('bg-elite-orange');
                dot.classList.add('bg-gray-400');
                if (index === currentSlideIndex) {
                    dot.classList.add('bg-elite-orange');
                    dot.classList.remove('bg-gray-400');
                }
            });
        }
        
        function startAutoSlide() {
            // Clear any existing interval before starting a new one
            if (autoSlideInterval) {
                clearInterval(autoSlideInterval);
            }
            autoSlideInterval = setInterval(() => {
                updateCategorySlider(currentSlideIndex + 1);
            }, 1500); 
        }

        function initializeCategorySlider() {
            categorySlides = document.querySelectorAll('.category-slide');
            const dots = document.querySelectorAll('#slider-indicators .indicator-dot');

            if (categorySlides.length > 0) {
                // Remove existing listeners to prevent duplicates
                dots.forEach(dot => dot.onclick = null); 

                dots.forEach(dot => {
                    dot.onclick = (e) => {
                        clearInterval(autoSlideInterval); 
                        const targetDot = e.target.closest('.indicator-dot');
                        if (!targetDot) return;
                        
                        const index = parseInt(targetDot.dataset.index);
                        updateCategorySlider(index);

                        // Restart auto-slide after a brief pause
                        setTimeout(startAutoSlide, 8000); 
                    };
                });
                
                startAutoSlide();
                currentSlideIndex = 0;
                updateCategorySlider(0);
            }
        }
        
        // --- Equipment Filtering and Rendering ---

        function renderEquipment(categoryHash) {
            const grid = document.getElementById('equipment-grid');
            const noResults = document.getElementById('no-results');
            if (!grid || !noResults) return;

            const normalizedTargetCategory = normalizeCategoryName(categoryHash);

            const filteredEquipment = equipmentData.filter(eq => {
                const normalizedDataCategory = normalizeCategoryName(eq.category);
                return normalizedDataCategory === normalizedTargetCategory;
            });

            if (filteredEquipment.length === 0) {
                noResults.classList.remove('hidden');
                grid.innerHTML = '';
                return;
            }

            noResults.classList.add('hidden');
            grid.innerHTML = filteredEquipment.map(eq => `
                <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-elite-orange hover:shadow-xl transition duration-300">
                    <div class="mb-4 overflow-hidden rounded-lg shadow-md">
                        <img 
                            src="${eq.imageURL}" 
                            alt="${eq.name} rental equipment" 
                            class="w-full h-64 object-contain transition duration-300 hover:scale-105"
                        />
                    </div>
                    <h4 class="text-xl font-bold text-gray-900 mb-2">${eq.name}</h4>
                    <p class="text-gray-600 text-sm mb-3">${eq.description.substring(0, 100)}...</p>
                    <div class="flex justify-between items-center mt-4">
                        <span class="text-2xl font-extrabold text-elite-orange">$${eq.price.toFixed(2)}/day</span>
                        <a href="#equipment/${eq.id}" class="px-3 py-2 bg-elite-orange text-white rounded-lg hover:bg-elite-orange-dark transition duration-200 text-sm font-semibold">
                            View Details
                        </a>
                    </div>
                </div>
            `).join('');
        }

        // --- Routing and View Management (Slider Fix Applied) ---
        
        function router() {
            const fullHashPath = window.location.hash.slice(1).toLowerCase();
            const pathParts = fullHashPath.split('/');
            const viewKey = pathParts[0] || '/'; 
            
            let htmlContent;
            let routeParam = pathParts[1]; 

            // Define what constitutes the Home View for initialization
            const isHomeView = viewKey === '/' || viewKey.startsWith('home-'); 

            // 1. View determination
            if (viewKey === 'category' && pathParts.length === 2) {
                htmlContent = views['category'](routeParam);
            } else if (viewKey === 'equipment' && pathParts.length === 2) {
                htmlContent = views['equipment'](routeParam);
            } else if (views[viewKey]) {
                htmlContent = views[viewKey];
            } else {
                htmlContent = views['/'];
            }

            appContent.innerHTML = htmlContent;
            window.createIcons();

            // --- Post-Render Initialization ---
            
            // 1. Stop slider if we navigate away from home
            if (!isHomeView) {
                if (autoSlideInterval) {
                    clearInterval(autoSlideInterval);
                    autoSlideInterval = null;
                }
            }
            
            // 2. Restart/Initialize slider ONLY on the homepage view
            if (isHomeView) {
                // Increased delay slightly to ensure the DOM is fully ready, 
                // and the initialization is triggered for all home-related hashes.
                setTimeout(initializeCategorySlider, 100); 
            } else if (viewKey === 'category' && routeParam) {
                // Render equipment grid on the category detail view
                renderEquipment(routeParam);
            } 
            
            // Handle scrolling
            const targetElement = document.getElementById(fullHashPath.replace('#', ''));
            if (targetElement) {
                setTimeout(() => {
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 50); 
            } else {
                window.scrollTo(0, 0); 
            }
            
            // Close mobile menu on navigation
            if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
                menuToggle.querySelector('i').setAttribute('data-lucide', 'menu');
                window.createIcons();
            }
        }

        // --- Event Listeners and Initial Load ---

        window.addEventListener('hashchange', router);

        // Mobile menu toggle
        menuToggle.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            const icon = menuToggle.querySelector('i');
            const iconName = mobileMenu.classList.contains('hidden') ? 'menu' : 'x';
            icon.setAttribute('data-lucide', iconName);
            window.createIcons();
        });
        
        // Close mobile menu when a link is clicked
        document.querySelectorAll('.mobile-link').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                menuToggle.querySelector('i').setAttribute('data-lucide', 'menu');
                window.createIcons();
            });
        });

        // Initial load of the correct view
        window.onload = router;
    </script>

    <script>
    // Function to animate the numbers
    function animateCountUp(element) {
        const target = parseInt(element.getAttribute('data-target'));
        const duration = 2000; // 2 seconds
        let start = 0;
        let increment = Math.ceil(target / (duration / 16)); // Roughly 60 frames per second

        function updateCount() {
            start += increment;
            if (start < target) {
                element.textContent = start;
                requestAnimationFrame(updateCount);
            } else {
                element.textContent = target; // Ensure it ends at the exact target
            }
        }
        updateCount();
    }

    // Intersection Observer to trigger animations when elements are in view
    document.addEventListener('DOMContentLoaded', () => {
        const observerOptions = {
            root: null, // relative to the viewport
            rootMargin: '0px',
            threshold: 0.1 // Trigger when 10% of the item is visible
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    if (entry.target.classList.contains('count-up')) {
                        animateCountUp(entry.target);
                    }
                    entry.target.style.animationPlayState = 'running';
                    observer.unobserve(entry.target); // Stop observing once animated
                }
            });
        }, observerOptions);

        // Observe elements for fade-in animations
        document.querySelectorAll('.animate-fade-in-up, .animate-fade-in-left, .animate-fade-in-right').forEach(el => {
            el.style.animationPlayState = 'paused'; // Pause animations until in view
            observer.observe(el);
        });

        // Observe count-up elements
        document.querySelectorAll('.count-up').forEach(el => {
            observer.observe(el);
        });
    });
</script>
</body>
</html>